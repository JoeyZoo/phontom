<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zj.videoservice.mapper.OutdoorVideoUpdateMapper">
    <!--sql有问题-->
    <select id="listUpdates" parameterType="Long" resultType="UpdateVO">
        SELECT
            ov.`video_source_id`,
            ov.`title`,
            ov.`cover`,
            ou.`nickname`,
            ou.`avatar`,
            ovu.`gmt_create`
        FROM
            `outdoor_video_update` ovu
            LEFT JOIN `outdoor_video` ov ON ovu.`video_source_id` = ov.`video_source_id`
            LEFT JOIN `outdoor_user` ou ON ovu.`up_id` = ou.`id`
        WHERE
            ovu.`fan_id` = #{fanId} AND ovu.`is_deleted`=0

        ORDER BY
            ovu.`gmt_create` DESC;
    </select>
</mapper>

