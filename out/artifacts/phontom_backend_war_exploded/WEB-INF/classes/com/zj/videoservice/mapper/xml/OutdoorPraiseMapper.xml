<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zj.videoservice.mapper.OutdoorPraiseMapper">
    <select id="countTotalPraiseNum" parameterType="Long" resultType="UpTotalDataVO">
       SELECT
            ou.`id`,
            COUNT( op.`up_id` ) AS totalPraiseNum
        FROM
            outdoor_user ou
            LEFT JOIN outdoor_praise op ON ou.`id` = op.`up_id`
        WHERE
            ou.`id` = #{id} AND op.`is_deleted`=0;
    </select>

    <!--统计视频获赞数-->
    <select id="countPraiseNum" parameterType="Long" resultType="VideoVO">
       SELECT
            ov.`id`,
            COUNT( op.`source_id` ) AS praiseNum
        FROM
            outdoor_video ov
            LEFT JOIN outdoor_praise op ON ov.`id` = op.`source_id`
        WHERE
            ov.`id` = #{id} AND op.`is_deleted`=0 AND op.`source`=0;
    </select>
</mapper>
